<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2018-01-07">

<title>Press Info – The OO-Ray</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-3b7f4aff7acac744aa1d596ce5db2ede.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KSSKDNK101"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-KSSKDNK101', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">The OO-Ray</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">Bio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./music.html"> 
<span class="menu-text">Music</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./press.html" aria-current="page"> 
<span class="menu-text">Press Info</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./shows.html"> 
<span class="menu-text">Showography</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./licensing.html"> 
<span class="menu-text">Licensing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://tinyletter.com/ooray"> 
<span class="menu-text">Mailing List</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Press Info</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 7, 2018</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="photos" class="level2">
<h2 class="anchored" data-anchor-id="photos">Photos</h2>
<img src="https://78.media.tumblr.com/c79b3d2deb603241980ec1cdd15980ed/tumblr_inline_o9gsm5kvMG1sye3ga_500.jpg">
<p>
Photo by Brian Young
</p>
<img src="https://78.media.tumblr.com/7250a5a702ad86d333612a513de577bd/tumblr_inline_o9gsnpYMYd1sye3ga_500.jpg">
<p>
Photo by Brian Young
</p>
<img src="https://78.media.tumblr.com/52fbba56c3c779cd45d044f9b8aae185/tumblr_inline_o9gsp4XiDn1sye3ga_500.jpg">
<p>
Photo by Brian Young
</p>
<p>
<img src="https://78.media.tumblr.com/f108a9e397b6f44a7c4e4bcc42d63a05/tumblr_inline_nlqjhhEvu51sye3ga_500.jpg">
</p>
<p>
Photo by Brian Young
</p>
<p>
<img src="https://78.media.tumblr.com/3f10b017cd27cd6c27a84f965db985be/tumblr_inline_nlqjkjZRlK1sye3ga_500.jpg">
</p>
<p>
With Marcus Fischer (Photo by Eric Kilkenny)
</p>
<p>
<img src="https://78.media.tumblr.com/301e16858196e66b41a81cb042fe6491/tumblr_inline_nlqjozZvPf1sye3ga_500.jpg">
</p>
<p>
At Alberta Abbey (Photo by Jay Schwab)
</p>
<p>
<img src="https://78.media.tumblr.com/1dd51134e81282123232810d1e4a753a/tumblr_inline_nlqjr5GDiy1sye3ga_500.jpg">
</p>
<p>
Photo by Brian Young
</p>
<p>
<img src="https://78.media.tumblr.com/0c7c0ef951efc1488ff67559e72aaf77/tumblr_inline_nlqjryxWHE1sye3ga_500.jpg">
</p>
<p>
With Desiree Rousseau, aka Brumes (Photo by Brian Young)
</p>
</section>
<section id="reviews" class="level1">
<h1>Reviews</h1>
<p>
Here are some reviews and writeups of my work, sorted by date.
</p>
<p><a href="https://www.tinymixtapes.com/chocolate-grinder/premiere-robert-donne-stephen-vitiello-and-oo-ray-ted-laderas-nuvole">Tiny Mixtapes review of <em>Nuvole</em></a>:</p>
<blockquote class="blockquote">
Waking up in the future was similar to this morning: touching down both feet upon the ground with a fair assessment of where they’ll take you for the day. Then you see in your closet that Robert Donne, Stephen Vitiello and The OO-Ray (Ted Laderas) have been watching you sleep all night and the first word outta your mouth is, “Nuvole.” You ain’t never spoke Italian before, but as they approach a naked, half asleep version of you standing by your bed, you realize you’re fluently speaking in Italian, but really just ambiance. Within the language of ambiance, you ask the trio of slow-stroked brilliance if everything has been droned away with, and your new daily activity is finding meditative lengths guided by their newest piece of work on Geographic North. In long form movements, spacial and temporal warping, master-level patience, and complete frequency, the three answer back in two forms of Nuvole. Both these two forms comprise each side of their newest release, entitled Nuvole, and we can all (now) find the meaning to our daily “SOS” lives!
</blockquote>
<p>
<a href="http://www.textura.org/reviews/ooray_emptyorchestra.htm">Textura Review of <em>Empty Orchestra</em></a>
</p>
<blockquote class="blockquote">
<p>
It’s an awesome, all-consuming cathedral of sound that merges the raw and the refined: noise dronescaping sweetened with themes of an oft-melancholic and chamber classical-styled nature (see “Vapours” and “Hunting Song” as excellent illustrations of the style).
</p>
</blockquote>
<p>
<a href="http://www.portlandmercury.com/portland/the-oo-ray-and-brumes/Event?oid=15325991">Portland Mercury Review of <em>Empty Orchestra</em></a>
</p>
<blockquote class="blockquote">
<p>
The songs are built with the same unyielding, enveloping spirit as William Basinski’s <em>Disintegration Loops</em>. They are big, swarming MIDI productions that don’t let you escape from the sound. It’s like standing in the middle of an orchestra as it works out a slowly dripping rewrite that stretches out the opening chords of <em>Also Sprach Zarathustra</em> to epic lengths.
</p>
</blockquote>
<p>
<a href="http://www.actsofsilence.com/album-review/liquid-sound/">Acts of Silence Review of <em>Empty Orchestra</em></a>
</p>
<blockquote class="blockquote">
<p>
There has always been a predictability of ambient music that leans toward the boring, however Laderas eschews his music from the pedantic and anticipative hooks of the genre. It is as if liquid sound pours out of your headphones when listening to <em>Empty Orchestra</em>.
</p>
</blockquote>
<p>
<a href="http://zookeeper.stanford.edu/index.php?action=viewRecentReview&amp;tag=1074978">KZSU review of <em>Empty Orchestra</em></a>
</p>
<blockquote class="blockquote">
<p>
Big beautiful fuzzy dramatic cello drone. Created while finishing The OO-Ray’s PhD in Biology, <em>Empty Orchestra</em> protests the savagery of today while maintaining that calm and peace can be reached through turbulence. This really tugged at my heartstrings and not only because I’m about to defend my own dissertation. Wow.
</p>
</blockquote>
<p>
<a href="http://www.ambientexotica.com/ambrev322_lebooray_v/">Le B’OO-Ray (w/ Le Berger)</a>
</p>
<p>
<a href="http://www.tinymixtapes.com/chocolate-grinder/listen-oo-ray-scenes-from-a-wedding-live-at-pendarvis-farms-8-17-13">Tiny Mix Tapes on my set <em>Live at Pendarvis Farms</em></a>
</p>
<blockquote class="blockquote">
<p>
The clean, almost cliché loveliness of the cello is turned forlorn and melancholy by the repetitive, looping nature of the performance, and the continuous layering of complicated emotional fragments on top only add to the overall beauty of the mix.
</p>
</blockquote>
<p></p>
<p>
[Creative Commons Thing of the Day])(http://ccthing.tumblr.com/post/97566525167/silhouettes-the-oo-ray-cc-by-nc-sa-3-0)
</p>
<p>
<a href="http://www.fluid-radio.co.uk/2014/02/m-fischer-the-oo-ray/">Fluid Radio Review of <em>Tulong</em> (w/ Marcus Fischer)</a><br><a href="http://www.secretdecoder.net/blog/2014/01/29/marcus-fischer-the-oo-ray-tulong/">Secret Decoder review of <em>Tulong</em></a>
</p>
<blockquote class="blockquote">
<p>
Each track glides along at a slow pace, cracking like a stroll down autumnal lanes illuminated by streetlights. Tones are stretched out and given complete room to breathe. While “Deluge” is a more solemn affair, resembling a Nick Cave score played at a quarter-speed, “Reconstruction” almost feels like a literal picking up of the pieces. There’s a hope and will in the sustained notes.
</p>
</blockquote>
<p>
<a href="http://wajobu.com/2012/09/18/marcus-fischer-the-oo-ray-tessellations/">Wajobu Review of <em>Tessellations</em></a>
</p>
<blockquote class="blockquote">
<p>
Marcus Fischer + The OO-Ray have deftly assembled in their collaborative improvisational work both a cohesive sonic realism, and impressionistic vision with a timeless authenticity.
</p>
</blockquote>
<p>
<a href="http://textura.org/reviews/fischer_ooray.htm">Textura Review of <em>Tessellations</em> (w/ Marcus Fischer)</a>
</p>
<blockquote class="blockquote">
<p>
Using cello, lap harp, tuning forks, synthesizers, guitar, and percussion as sound sources and analog and digital processing as production means, the two first generated long-form improvisations and then shaped them into the album’s seven settings. In their final form, however, the pieces unfold in a patient and natural manner that makes them seem more like meditative drones delicately shaped in real-time.
</p>
</blockquote>
<p>
<a href="http://eyebient.tumblr.com/post/32938423458/marcus-fischer-the-oo-ray-tessellations">Eyebient Review of <em>Tessellations</em></a>
</p>
<blockquote class="blockquote">
<p>
A few days ago in the evening in Warsaw, I was walking the street late at night and I could hear the sound of crickets. It would not be strange if it were not quite cold for a few days earlier. Someone said, ‘Because in a war at this venue was the ghetto’. I thought: ‘Tessellations’ moves things important, but fortunately only comes close to the border of pathos.
</p>
</blockquote>
<p>
<a href="http://hypnagogue.net/2011/12/14/the-oo-ray-astoria/"><em>Astoria</em> Review by Hypnagogue</a>
</p>
<blockquote class="blockquote">
<p>
The draw here, as with most electro-acoustic ambient, is how well the too-human organics mesh with the electronics, the rough against the smooth. Laderas pulls it all off nicely, creating sound-sketches of feelings that we want to look deeply into, and which we understand at a gut level.
</p>
</blockquote>
<p>
<a href="http://www.textura.org/reviews/ooray_astoria.htm">Textura Review of <em>Astoria</em></a>
</p>
<blockquote class="blockquote">
<p>
There is much to admire about this recording: first and foremost, the range of sound Laderas draws from the cello, with its upper and lower registers and percussive potential amply exploited, and with pizzicatto playing heard alongside the bowing (strikingly heard in “Bubbaly,” for example); and, secondly, the circumspection shown in having the twelve settings last only three- to four-minutes on average. Each piece appears just long enough to establish its own sound-world but then, having done so, exits. It’s truly remarkable to hear as luscious a set-piece as “Chimes at Midnight” be brought to life in just three minutes.
</p>
</blockquote>
<p>
<a href="http://disquiet.com/2011/02/06/laderas-ted-piano-cello-15people/">A Depressing Little Ditty for Piano and Cello</a>
</p>
<blockquote class="blockquote">
<p>
It’s a gem of a piece: compact, tight, classically refined, illuminated from within. The cello on “Savage Exhibition” has less of the artfully claustrophobic gaseous-effect shoegazer aura that is characteristic of Laderas’ work. Here he pairs the rhythmic cello with a simple piano line, one that is equal parts percussive and melodic. Together in combination, they suggest one of Philip Glass’ early chamber pieces intended for a dance performance. The sense of compactness comes from its limited motion, from the way it seems to move in place.
</p>
</blockquote>
<p>
<a href="http://disquiet.com/2009/07/08/oo-ray-laderas-magnifications/">One Bow to Infinity, liner notes to <em>Magnifications</em></a>
</p>
<blockquote class="blockquote">
<p>
Of course, Laderas doesn’t play a cello; what he plays is the Oo-Ray, a system of his own invention that places the cello amid a tidy battery of electronic tools that allow him to loop, clip, distort, and, per the title of this collection, magnify the rich overtones of his sound source. His technology doesn’t transform his cello any more than his cello serves his technology; they are partners. There is a soaring quality to “Angostura” that would be impossible to achieve without the digital effects that Laderas employs, but the piece bears no trace of CGI detritus, no green-screen lifelessness, no automated coldness.
</p>
</blockquote>
<p>
<a href="http://disquiet.com/2008/09/02/maximalist-ambient-cello-mp3/">Maximalist Ambient Cello MP3</a>
</p>
<blockquote class="blockquote">
<p>
As mediated by Laderas’s bank of technology, the lone cello takes on a kind serene majesty — sustained, rich, formidable.
</p>
</blockquote>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>